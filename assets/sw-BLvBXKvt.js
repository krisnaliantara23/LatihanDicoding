const s="film-cache-v2",n="/LatihanDicoding",a=[`${n}/`,`${n}/index.html`,`${n}/manifest.json`,`${n}/sw.js`,`${n}/styles/styles.css`,`${n}/scripts/index.js`,`${n}/icons/popcorn.png`,`${n}/icons/cinema.png`,`${n}/images/favicon.png`,`${n}/images/logo.png`];self.addEventListener("install",i=>{self.skipWaiting(),i.waitUntil(caches.open(s).then(t=>t.addAll(a)))});self.addEventListener("activate",i=>{i.waitUntil(caches.keys().then(t=>Promise.all(t.map(e=>{if(e!==s)return caches.delete(e)})))),self.clients.claim()});self.addEventListener("fetch",i=>{i.respondWith(caches.match(i.request).then(t=>t||fetch(i.request)))});self.addEventListener("push",i=>{const t={body:i.data.text(),icon:`${n}/icons/popcorn.png`,badge:`${n}/icons/cinema.png`};i.waitUntil(self.registration.showNotification("New Story Available!",t))});self.addEventListener("notificationclick",i=>{i.notification.close(),i.waitUntil(clients.openWindow(n+"/"))});
