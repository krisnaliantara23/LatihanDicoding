const s="dicoding-story-cache-v1",t="/LatihanDicoding/",c=[`${t}`,`${t}index.html`,`${t}manifest.json`,`${t}icons/icon-192.png`,`${t}icons/icon-512.png`,`${t}images/favicon.png`];self.addEventListener("install",n=>{n.waitUntil(caches.open(s).then(i=>i.addAll(c)))});self.addEventListener("activate",n=>{n.waitUntil(caches.keys().then(i=>Promise.all(i.map(e=>{if(e!==s)return caches.delete(e)})))),self.clients.claim()});self.addEventListener("fetch",n=>{n.respondWith(caches.match(n.request).then(i=>i||fetch(n.request)))});self.addEventListener("push",n=>{const i={body:n.data.text(),icon:`${t}icons/popcorn.png`,badge:`${t}icons/cinema.png`};n.waitUntil(self.registration.showNotification("New Story Available!",i))});self.addEventListener("notificationclick",n=>{n.notification.close(),n.waitUntil(clients.openWindow(t))});
