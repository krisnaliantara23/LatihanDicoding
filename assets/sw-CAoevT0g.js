const n="film-cache-v1",e="/LatihanDicoding",a=[`${e}/`,`${e}/index.html`,`${e}/manifest.json`,`${e}/styles/styles.css`,`${e}/scripts/index.js`,`${e}/scripts/sw.js`,`${e}/popcorn.png`,`${e}/cinema.png`,`${e}/video.png`];self.addEventListener("install",t=>{t.waitUntil(caches.open(n).then(i=>i.addAll(a)))});self.addEventListener("activate",t=>{const i=[n];t.waitUntil(caches.keys().then(c=>Promise.all(c.map(s=>{if(!i.includes(s))return caches.delete(s)}))))});self.addEventListener("fetch",t=>{t.respondWith(caches.match(t.request).then(i=>i||fetch(t.request)))});self.addEventListener("push",t=>{const i={body:t.data.text(),icon:`${e}/icons/popcorn.png`,badge:`${e}/icons/cinema.png`};t.waitUntil(self.registration.showNotification("New Story Available!",i))});self.addEventListener("notificationclick",t=>{t.notification.close(),t.waitUntil(clients.openWindow(`${e}/`))});
